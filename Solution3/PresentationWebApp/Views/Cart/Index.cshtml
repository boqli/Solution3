@model ShoppingCart.Application.ViewModels.CartViewModel

@{ ViewData["Title"] = "Index"; }

<h1>Order Summary</h1>
<br />
<table class="table table-dark">
    <thead>
        <tr>
            <th scope="col"></th>
            <th scope="col">Product</th>
            <th scope="col">Quantity</th>
            <th scope="col">Price</th>
            <th scope="col">Remove</th>

        </tr>
    </thead>
    </tbody>

@foreach (var p in Model.CartItems)
{ 
        <tr>
            <th scope="col"><img src="@p.Product.ImageUrl" class="card-img-top image"></th>
            <th scope="col">@p.Product.Name</th> <!-- maybe make clickable to go to details?-->
            <th scope="col">@p.Quantity</th>
            <th scope="col">@p.Product.Price</th>
            
            <th scope="col"><a href="/Cart/Delete?id=@p.ProductFk" class="btn btn-danger">Remove</a></th>

        </tr>
}
    @{var x = 0.0; }
@foreach (var c in Model.CartItems)
{
    x = x + (c.Product.Price * c.Quantity);
}
            <th scope="col">Order Total: €@x  </th>
    </tbody>
</table>
<div class="text-center">
    <br />
    <a href="/Cart/Checkout" class="btn btn-danger">Checkout</a>
</div>




